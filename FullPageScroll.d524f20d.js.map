{"version":3,"sources":["scripts/FullPageScroll.js"],"names":["FullPageScroll","selector","options","root","document","querySelector","sections","querySelectorAll","navigation","dots","duration","timingFunction","onLeave","afterLoad","activeSlide","animated","maxSlide","length","startTouchEvent","endTouchEvent","setup","createElement","id","classList","navigationList","appendChild","navigationItem","forEach","item","i","innerHTML","add","index","navigationLinks","remove","section","style","transform","transition","actionToSlide","timeoutBetweenSlides","activeNavigationItem","e","setTimeout","createNavigation","anchor","addEventListener","target","Number","dataset","toslide","toSlide","link","changedTouches","pageY","slideDown","slideUp","deltaY"],"mappings":"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","file":"FullPageScroll.d524f20d.js","sourceRoot":"..\\src","sourcesContent":["export default class FullPageScroll {\r\n  constructor(selector, options) {\r\n    this.root = document.querySelector(selector);\r\n    this.sections = this.root.querySelectorAll('.section');\r\n    this.navigation;\r\n    //\r\n    this.dots = options.dots;\r\n    this.duration = options.duration || 500;\r\n    this.timingFunction = options.timingFunction || 'linear';\r\n    this.onLeave = options.onLeave;\r\n    this.afterLoad = options.afterLoad;\r\n    //\r\n    this.activeSlide = 0;\r\n    this.animated = false;\r\n    this.maxSlide = this.sections.length;\r\n    this.startTouchEvent;\r\n    this.endTouchEvent;\r\n\r\n    this.setup();\r\n  }\r\n\r\n  createNavigation() {\r\n    this.navigation = document.createElement('nav');\r\n    this.navigation.id = this.navigation.classList = 'navigation';\r\n    const navigationList = document.createElement('ul');\r\n    navigationList.classList = 'navigation__list';\r\n    this.navigation.appendChild(navigationList);\r\n    let navigationItem = '';\r\n    this.sections.forEach((item, i) => {\r\n      navigationItem +=\r\n        `<li class=\"navigation__item\">\r\n        <a data-navigation=${i} href=\"#\" class=\"navigation__link\"></a>\r\n      </li>`\r\n    });\r\n    navigationList.innerHTML = navigationItem;\r\n    navigationList.querySelectorAll('.navigation__link')[0].classList.add('is-active');\r\n  }\r\n\r\n  activeNavigationItem(index) {\r\n    const navigationLinks = document.querySelectorAll('.navigation__link');\r\n\r\n    navigationLinks[index].classList.add('is-active');\r\n    navigationLinks.forEach((item, i) => {\r\n      if (index !== i) {\r\n        navigationLinks[i].classList.remove('is-active');\r\n      }\r\n    });\r\n  }\r\n\r\n  actionToSlide() {\r\n    this.animated = true;\r\n    this.sections.forEach(section => {\r\n      section.style.transform = `translateY(${-this.activeSlide * 100}%)`;\r\n      section.style.transition = `transform ${this.duration}ms ${this.timingFunction}`;\r\n    });\r\n  }\r\n\r\n  slideUp() {\r\n    if (this.activeSlide !== 0 && !this.animated) {\r\n      this.activeSlide--;\r\n      this.actionToSlide();\r\n      this.timeoutBetweenSlides();\r\n      this.activeNavigationItem(this.activeSlide);\r\n      this.onLeave()\r\n    }\r\n  }\r\n\r\n  slideDown() {\r\n    if ((this.activeSlide + 1) < this.maxSlide && !this.animated) {\r\n      this.activeSlide++;\r\n      this.actionToSlide();\r\n      this.timeoutBetweenSlides();\r\n      this.activeNavigationItem(this.activeSlide);\r\n      this.onLeave()\r\n    }\r\n  }\r\n\r\n  toSlide(e) {\r\n    if (this.activeSlide !== e && !this.animated) {\r\n      this.activeSlide = e;\r\n      this.actionToSlide();\r\n      this.timeoutBetweenSlides();\r\n      this.activeNavigationItem(this.activeSlide);\r\n      this.onLeave()\r\n    }\r\n  }\r\n\r\n  timeoutBetweenSlides() {\r\n    setTimeout(() => {\r\n      this.animated = false;\r\n    }, this.duration);\r\n  }\r\n\r\n  setup() {\r\n    this.afterLoad();\r\n    this.createNavigation();\r\n\r\n\r\n    if (this.dots) {\r\n      this.root.appendChild(this.navigation);\r\n    }\r\n\r\n    //events---------------------->>>\r\n    document.querySelectorAll('.section__anchors').forEach(anchor => {\r\n      anchor.addEventListener('click', e => {\r\n        const target = Number(e.target.dataset.toslide);\r\n        this.toSlide(target);\r\n      });\r\n    });\r\n\r\n    document.querySelectorAll('.navigation__link').forEach(link => {\r\n      link.addEventListener('click', e => {\r\n        const target = Number(e.target.dataset.navigation);\r\n        this.toSlide(target);\r\n      });\r\n    });\r\n\r\n    this.root.addEventListener('touchstart', e => {\r\n      this.startTouchEvent = e.changedTouches[0].pageY;\r\n    });\r\n\r\n    this.root.addEventListener('touchend', e => {\r\n      this.endTouchEvent = e.changedTouches[0].pageY;\r\n      this.startTouchEvent > this.endTouchEvent ? this.slideDown() :\r\n      this.startTouchEvent < this.endTouchEvent ? this.slideUp() :\r\n      false;\r\n    });\r\n\r\n    this.root.addEventListener('wheel', e => {\r\n      e.deltaY > 0 ? this.slideDown() : this.slideUp();\r\n    });\r\n  }\r\n}\r\n"]}